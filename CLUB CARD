import SwiftUI

struct ClubCard: View {
    
    @EnvironmentObject var theme: ThemeManager
    let club: Club
    
    var body: some View {
        
        HStack(spacing: 15) {
            
            // MARK: - Left Colored Strip
            Rectangle()
                .fill(theme.categoryColor[club.category] ?? .blue)
                .frame(width: 6)
                .cornerRadius(3)
            
            // MARK: - Club Icon Circle
            Circle()
                .fill(Color.randomPastel)
                .frame(width: 55, height: 55)
                .overlay(
                    Text(club.initials)
                        .font(.headline)
                        .foregroundColor(.black.opacity(0.7))
                )
            
            VStack(alignment: .leading, spacing: 6) {
                
                Text(club.name)
                    .font(.headline)
                    .foregroundColor(theme.textPrimary)
                
                Text(club.category)
                    .font(.caption2)
                    .padding(.horizontal, 10)
                    .padding(.vertical, 5)
                    .background(theme.chipBG)
                    .clipShape(Capsule())
                    .foregroundColor(theme.textPrimary)
                
                Text(club.description)
                    .font(.caption)
                    .foregroundColor(theme.textSecondary)
                    .lineLimit(2)
            }
            
            Spacer()
            
            // MARK: - Members Count
            HStack(spacing: 3) {
                Image(systemName: "person.2.fill")
                    .foregroundColor(theme.textSecondary)
                Text("\(club.members)")
                    .font(.caption)
                    .foregroundColor(theme.textSecondary)
            }
        }
        .padding()
        .background(theme.cardBackground)
        .clipShape(RoundedRectangle(cornerRadius: 18))
        .shadow(color: theme.isDark ? .clear : Color.black.opacity(0.07), radius: 4, y: 2)
        .padding(.horizontal, 2)
    }
}
